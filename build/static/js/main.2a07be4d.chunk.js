(this.webpackJsonpcalendie=this.webpackJsonpcalendie||[]).push([[0],{50:function(e,t,n){e.exports=n(77)},55:function(e,t,n){},71:function(e,t,n){},75:function(e,t,n){},77:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),i=n(11),c=n.n(i),r=(n(55),n(39)),l=n(40),u=n(41),d=n(31),s=n(17),v=n(42),f=n(56),m=Object(a.createContext)({}),E=new function e(){var t=this;Object(v.a)(this,e),this.db=void 0,this.createEvent=function(e){return new Promise((function(n,a){t.db.insert(e,(function(e,t){t?n(t):a(e)}))}))},this.editEvent=function(e,n){return new Promise((function(a,o){t.db.update({_id:e},n,(function(e,t){t?a(t):o(e)}))}))},this.getEvent=function(){return new Promise((function(e,n){t.db.find({},(function(t,a){a?e(a):n(t)}))}))},this.deleteEvent=function(e){return new Promise((function(n,a){t.db.remove({_id:e},(function(e,t){t?n():a(e)}))}))},this.db=new f({filename:"C:/temp/event.db",autoload:!0})};function h(e){var t=(new Date).toISOString().substring(0,10),n=Object(a.useState)(!1),i=Object(s.a)(n,2),c=i[0],r=i[1],l=Object(a.useState)(t),u=Object(s.a)(l,2),v=u[0],f=u[1],h=Object(a.useState)(""),b=Object(s.a)(h,2),w=b[0],O=b[1],S=Object(a.useState)(""),g=Object(s.a)(S,2),j=g[0],p=g[1],C=Object(a.useState)([]),k=Object(s.a)(C,2),x=k[0],B=k[1];function y(){E.getEvent().then((function(e){var t=e.map((function(e){return{id:e._id,title:e.note,start:e.date,end:e.end}}));B(t)}))}function D(){p(""),O(""),f(t),r(!1)}return Object(a.useEffect)((function(){y()}),[]),o.a.createElement(m.Provider,{value:{show:c,date:v,note:w,events:x,onShow:function(){r(!0)},onClose:D,onDatePick:function(e){f(e.target.value)},onNoteSet:function(e){O(e.target.value)},onEventSave:function(){null===j||""===j?E.createEvent({date:v,note:w}).then((function(e){var t=Object(d.a)(x),n={id:e._id,title:e.note,start:e.date,end:e.date};t.push(n),B(t),D()})):E.editEvent(j,{date:v,note:w}).then((function(e){var t=Object(d.a)(x),n={id:j,title:w,start:v,end:v},a=t.findIndex((function(e){return e.id==j}));t[a]=n,B(t),D()}))},onEdit:function(e){p(e.id),O(e.title),f(e.start),r(!0)},onDelete:function(){E.deleteEvent(j).then((function(){D(),y()}))}}},e.children)}var b=n(80),w=n(81),O=n(48),S=n(82);n(70),n(71);function g(){var e=Object(a.useContext)(m),t=e.show,n=e.date,i=e.note,c=e.onClose,r=e.onDatePick,l=e.onNoteSet,u=e.onEventSave,d=e.onDelete;return o.a.createElement(b.a,{show:t,onHide:c},o.a.createElement(b.a.Header,{closeButton:!0},o.a.createElement(b.a.Title,null,"Add an event")),o.a.createElement(b.a.Body,null,o.a.createElement(w.a,null,o.a.createElement(w.a.Group,null,o.a.createElement(w.a.Label,null,"Date:"),o.a.createElement(O.a,{id:"date",type:"date",value:n,onChange:r}),o.a.createElement("br",null),o.a.createElement(w.a.Label,null,"Note:"),o.a.createElement(O.a,{id:"note",type:"text",onChange:l,value:i,as:"textarea"})))),o.a.createElement(b.a.Footer,null,o.a.createElement(S.a,{variant:"danger",className:"mr-auto",onClick:d},"Delete"),o.a.createElement(S.a,{variant:"secondary",onClick:c},"Close"),o.a.createElement(S.a,{variant:"primary",onClick:function(){return u("hello")}},"Save")))}n(75);var j=function(){var e=Object(a.useContext)(m),t=e.onShow,n=e.onEdit,i=e.events;return o.a.createElement("div",{className:"App"},o.a.createElement(r.a,{defaultView:"listWeek",header:{center:"addEventButton"},plugins:[u.a,l.a],selectable:!0,customButtons:{addEventButton:{text:"Add Event",click:function(){t()}}},events:i,dateClick:function(e){alert(e.dateStr)},eventClick:function(e){!function(e){var t={id:e.id,title:e.title,start:e.start.toISOString().substring(0,10),end:e.end};n(t)}(e.event)},eventColor:"#E79B25"}),o.a.createElement(g,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(76);c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(h,null,o.a.createElement(j,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[50,1,2]]]);
//# sourceMappingURL=main.2a07be4d.chunk.js.map